function e(e){return"0x"+e.map((e=>e.toString(16).padStart(2,"0"))).join("")}function r(e,r=0){let t=0,n=0,s=[];for(;;){if(r>=e.length)throw new RangeError("buffer overflow");let i=e[r++];if(n|=(127&i)<<t,t+=7,t>=8&&(s.push(255&n),n>>=8,t-=8),i<=127)break}return t&&s.push(n),[s.reverse(),r]}function t(t,n){[t,n]=r(t,n);let s=parseInt(e(t));if(!Number.isSafeInteger(s))throw new RangeError("unsafe");return[s,n]}function n(e,r,t=0){if("number"==typeof r&&!Number.isSafeInteger(r))throw new RangeError("unsafe");if((r=BigInt(r))<0)throw new RangeError("negative");const n=127n;for(;r>n;)e[t++]=128|Number(r&n),r>>=7n;return e[t++]=Number(r),t}var s=Object.freeze({__proto__:null,read:t,readBigInt:function(t,n){return[t,n]=r(t,n),[BigInt(e(t)),n]},readBytes:r,readHex:function(t,n){return[t,n]=r(t,n),[e(t),n]},write:n});class i{constructor(e){let r=this.chars=[...e];this.map=new Map(r.map(((e,r)=>[e,r])))}get length(){return this.map.size}indexOf(e){let r=this.map.get(e);if(!Number.isInteger(r))throw new TypeError(`invalid digit "${e}"`);return r}encode(e){return Array.from(e,(e=>this.chars[e])).join("")}}class o{constructor(e){let r=this.table=new i(e),t=r.length,n=this.bits=Math.log2(t);if(t<2||!Number.isInteger(n))throw new TypeError;r.chars.push("=")}decode(e){let{table:r,bits:t}=this,n=e.length,s=0,i=0,o=0;for(;n&&"="==e[n-1];)--n;let a=new Uint8Array(n*t>>3);for(let h=0;h<n;h++)i=i<<t|r.indexOf(e[h]),o+=t,o>=8&&(a[s++]=i>>(o-=8)&255);if(i<<8-o&255)throw new Error("invalid");return a}encode(e,r){let{table:t,bits:n}=this,s=(1<<n)-1,i=0,o=0,a=[];for(let r=0,t=e.length;r<t;r++)for(i=i<<8|e[r],o+=8;o>=n;)a.push(i>>(o-=n)&s);for(o&&a.push(i<<n-o&s);r&&a.length*n&7;)a.push(s+1);return t.encode(a)}}class a{constructor(e){this.table=new i(e)}decode(e){let{table:r}=this,t=r.length,n=e.length,s=new Uint8Array(n),i=0;for(let n of e){let e=r.indexOf(n);for(let r=0;r<i;r++)e+=s[r]*t,s[r]=e,e>>=8;for(;e;)s[i++]=e,e>>=8}for(let t=0;t<n&&e[t]===r.chars[0];t++)i++;return s.subarray(0,i).reverse()}encode(e){let{table:r}=this,t=r.length,n=[];for(let r of e){for(let e=0;e<n.length;++e){let s=n[e]<<8|r;n[e]=s%t,r=s/t|0}for(;r;)n.push(r%t),r=r/t|0}for(let r=0;r<e.length&&!e[r];r++)n.push(0);return r.encode(n.reverse())}}const h=new i("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),c=[996825010,642813549,513874426,1027748829,705979059];function l(e){let r=1;for(let t of e){let e=r>>25;r=(33554431&r)<<5^t;for(let t=0;t<5;t++)e>>t&1&&(r^=c[t])}return r}function u(e){let r=Array.from(e,(r=>{let t=r.codePointAt(0);if(t<33||t>126)throw new Error(`invalid hrp character: ${e}`);return t})),t=r.length;if(!t||t>83)throw new Error("invalid hrp length");return[...r.map((e=>e>>5)),0,...r.map((e=>31&e))]}class f{constructor(e,r,t=1){this.hrp=e,this.v32=r,this.type=t}toString(){return this.hrp+"1"+h.encode(this.v32)+h.encode(function(e,r,t){let n=l([...u(r),...t,0,0,0,0,0,0])^e;return[25,20,15,10,5,0].map((e=>n>>e&31))}(this.type,this.hrp,this.v32))}static from(e){let r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error("mixed case");let t=r.lastIndexOf("1");if(t<1)throw new Error("no hrp");if(r.length-t<7)throw new Error("no check");let n=r.slice(0,t),s=Uint8Array.from(r.slice(t+1),(e=>h.indexOf(e)));return new this(n,s.subarray(0,-6),l([...u(n),...s]))}}Object.defineProperty(f,"M",{value:734539939,writable:!1,configurable:!1});const d=new Map;class w{static[Symbol.iterator](){return d.values()}static decode(e){let r=e.codePointAt(0),t=this.for(String.fromCodePoint(r)),n=t.decode(e.slice(r<65536?1:2));return{base:t,data:n}}static for(e){if(e instanceof this)return e;let r=d.get(e);if(!r)throw new Error(`unknown multibase: ${e}`);return r}constructor(e,r){if("string"!=typeof e||1!==e.length)throw new TypeError("invalid prefix");this.prefix=e,this.name=r,d.set(e,this)}encodeWithPrefix(e){return this.prefix+this.encode(e)}}class p{static from(e){"string"==typeof e&&(e=w.decode(e));let r,[n,s]=t(e);if([r,s]=t(e,s),(e=new Uint8Array(e.slice(s))).length!==r)throw new Error(`expected ${r}, got ${e.length} bytes`);return new this(n,e)}constructor(e,r){this.code=e,this.hash=r}get bytes(){let e=[];return this.write(e,0),Uint8Array.from(e)}write(e,r){let{hash:t,code:s}=this;return r=n(e,t.length,n(e,s,r)),t.forEach((t=>e[r++]=t)),r}}function g(e,r,t,n,s=[]){let i=0,o=0,a=(1<<t)-1;for(let n of e){if(n<0||n>>r)throw new Error("invalid digit");for(i=(65535&i)<<r|n,o+=r;o>=t;)o-=t,s.push(i>>o&a)}if(n)o&&s.push(i<<t-o&a);else if(o>=r||i<<t-o&a)throw new Error("malformed");return Uint8Array.from(s)}const b="ABCDEFGHIJKLMNOPQRSTUVWXYZ",m=b.toLowerCase(),y="0123456789";function v(e){return e.replaceAll(/[0OIl]/g,"")}const x=new o(b+m+y+"+/"),E=new o(b+m+y+"-_"),A=new a(v(y+b+m)),I=new a(v(y+m+b)),C=new a(y+m),S=new o("ybndrfg8ejkmcpqxot1uwisza345h769"),U=new o(y+m.slice(0,-4)),O=new o("abcdefghijklmnopqrstuvwxyz234567"),k=new o(y+"abcdef"),j=new a(y),z=new o("01234567"),M=new o("01");class N extends w{constructor(e,r,t,{casing:n,padding:s}={}){super(e,r),this.coder=t,this.casing=n,this.padding=s}decode(e){return void 0!==this.casing&&(e=e.toLowerCase()),this.coder.decode(e)}encode(e){let r=this.coder.encode(e,this.padding);return this.casing&&(r=r.toUpperCase()),r}}new N("0","base2",M),new N("7","base8",z),new N("9","base10",j),new N("f","base16",k,{casing:!1}),new N("F","base16upper",k,{casing:!0}),new N("v","base32hex",U,{casing:!1}),new N("V","base32hexupper",U,{casing:!0}),new N("t","base32hexpad",U,{casing:!1,padding:!0}),new N("T","base32hexpadupper",U,{casing:!0,padding:!0}),new N("b","base32",O,{casing:!1}),new N("B","base32upper",O,{casing:!0}),new N("c","base32pad",O,{casing:!1,padding:!0}),new N("C","base32padupper",O,{casing:!0,padding:!0}),new N("h","base32z",S),new N("k","base36",C,{casing:!1}),new N("K","base36upper",C,{casing:!0}),new N("z","base58btc",A),new N("Z","base58flickr",I),new N("m","base64",x),new N("M","base64pad",x,{padding:!0}),new N("u","base64url",E),new N("U","base64urlpad",E,{padding:!0});class P{static from(e){let r;if("string"==typeof e)if(46==e.length&&e.startsWith("Qm"))e=A.decode(e);else if(({base:r,data:e}=w.decode(e)),18==e[0])throw new Error("CIDv0 cannot be multibase");try{if(18==e[0]){if(32!==e[1])throw new Error("CIDv0 must be SHA2-256");return new $(p.from(e))}let[n,s]=t(e);if(1===n){let n;return[n,s]=t(e,s),new B(n,p.from(e.slice(s)),r)}throw new Error(`unsupported version: ${n}`)}catch(e){throw new Error(`Malformed CID: ${e.message}`)}}upgrade(){return this}}class $ extends P{constructor(e){super(),this.hash=e}get version(){return 0}get codec(){return 112}get bytes(){return this.hash.bytes}upgrade(){return new B(this.codec,this.hash)}toString(){return A.encode(this.bytes)}}class B extends P{constructor(e,r,t){super(),this.codec=e,this.hash=r,this.base=t}get version(){return 1}get bytes(){let e=[];return this.hash.write(e,n(e,this.codec,n(e,this.version))),Uint8Array.from(e)}toString(e){return w.for(e||this.base||"b").encodeWithPrefix(this.bytes)}}export{j as Base10,k as Base16,M as Base2,O as Base32,U as Base32Hex,S as Base32Z,C as Base36,A as Base58BTC,I as Base58Flickr,x as Base64,E as Base64URL,z as Base8,f as Bech32,P as CID,$ as CIDv0,B as CIDv1,w as Multibase,N as Multibased,p as Multihash,a as Prefix0,o as RFC4648,g as convert,s as uvarint};
